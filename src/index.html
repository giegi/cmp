<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>GDPR Documentation</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimal-ui">
	<meta name="apple-mobile-web-app-capable" content="yes">
        
        <script>
            
            window.kwdnt = 1;
            function listenerCmpEvents(cmpEvent) {
				console.log("[CMP LOG] CMP EVENT!!!!!! ", cmpEvent);
//                if(cmpReadyEvent.event === "cmpReady") {
//                   window.cmpInterval = setTimeout(function() {__cmp("showConsentTool"); }, 200);
//                    __cmp("getVendorConsents", null, function(e) {__cmp("getPublisherConsents", null, function(e) {clearTimeout(window.cmpInterval); }); });
//                    
//                }
            }
            function forwardedCmpEvents(evt) {
                return;
		try {
			if(evt == "Notify event: isLoaded") {
				
				console.log("%c[CMP LOG] %c ", 'padding: 2px; background: yellow; color: #000', 'padding: 2px; color: #00F', evt);
			}
			if(evt == "Notify event: cmpReady") {
				console.log("%c[CMP LOG] %c ", 'padding: 2px; background: yellow; color: #000', 'padding: 2px; color: #00F', evt);
				try {
					window.kw_cmp_cmpReady = true;                   
					window.cmpLoadWrapper(); 
					console.log("%c[CMP LOG] %c Called mnz_advReady - Manzoni can refresh ADV", 'padding: 2px; background: yellow; color: #000', 'padding: 2px; color: #00F');
				} catch(e) { 
					console.log("%c[CMP ERROR] %c Did not find kwcmpReady function in adv configuration", 'padding: 2px; background: yellow; color: #000', 'padding: 2px; color: #00F');
				}
				try { 
					kw_tlh_cmp_complete(); 
					console.log("%c[CMP LOG] %c Called kw_tlh_cmp_complete - FE VIDEO Async ADV can be launched", 'padding: 2px; background: yellow; color: #000', 'padding: 2px; color: #00F');
				} catch(e) { 
					console.log("%c[CMP LOG] %c Did not find FE VIDEO TLH in page. Not worrying about writing adv in page", 'padding: 2px; background: yellow; color: #000', 'padding: 2px; color: #00F');
				}
				try {
					console.log("Getting Publisher Consent For PersonalizedAds");
					__cmp("getPublisherConsents", "", function(result) { window.kwCmpPurposes = {"standardPurposes":result.standardPurposes, "customPurposes":result.customPurposes}});
				} catch(e) {
					console.log(e);
					window.kwCmpPurposes = null;
				}
			}
		} catch(e) {}
	}
        </script>
	<script>
		(function(window) {
			window.__cmp = (function() {
				var listen = window.attachEvent || window.addEventListener;
				listen('message', function(event) {
					window.__cmp.receiveMessage(event);
				});

				var commandQueue = [];
				var cmp = function(command, parameter, callback) {
					commandQueue.push({
						command: command,
						parameter: parameter,
						callback: callback
					});
				};
				cmp.commandQueue = commandQueue;
				cmp.receiveMessage = function(event) {
					var data = event && event.data && event.data.__cmpCall;
					if (data) {
						commandQueue.push({
							callId: data.callId,
							command: data.command,
							parameter: data.parameter,
							event: event
						});
					}
				};
				cmp.config = {
					customPurposeListLocation: 'purposes.json',
					globalConsentLocation: 'docs/portal.html',                                        
					storeConsentGlobally: true,
					gdprApplies: true,
					forceLocale: 'en',
					storePublisherData: true,
					gdprAppliesGlobally: true,
					logging: 'debug',
				};
				return cmp;
			}());
		})(window);
		
		__cmp("addEventListener", "onSubmit", listenerCmpEvents)
		__cmp("addEventListener", "isLoaded", listenerCmpEvents)
		__cmp("addEventListener", "cmpReady", listenerCmpEvents)
		//__cmp('showConsentTool', false);
	</script>
</head>
<body>
</body>
</html>
